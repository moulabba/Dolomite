*{ You can use plain selenium command using the selenium tag }*


#{selenium 'authentification'}
	clearSession()
 
    // Ouverture de la page
    open('http://www.icom.fr')
 
	click('link=Se connecter')
	waitForPageToLoad(30000)
	click("//div[@id='master-header']/div/div/table/tbody/tr/td/a/img")
	waitForPageToLoad(30000)
	type("Identifiant", "")
	type("Mot de passe", "")
	click("//input[@value='Connexion']")
	waitForPageToLoad(30000)
    // Vérifie que la page d'invitation se charge
    assertTextPresent('Inviter un membre au groupe')
    assertTextPresent('Nom')
    assertTextPresent('Prénom')

#{/selenium}

#{selenium 'Invitation KO : user already existing'}
 
    click("link=Inviter")
	// select("Choix du groupe", "label=Groupe A") // Fonctionnalité non encore développée 
	waitForPageToLoad(30000)
	type("Nom", "")
	type("Prenom", "")
	type("Email", "")
	click("Français")
	click("//input[@value='Valider']")
	selenium.waitForPageToLoad(30000)
    
    // Affichage d'un message d'erreur
    assertTextPresent('L'utilisateur existe déjà')

#{/selenium}
